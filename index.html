<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Perpetual motion</title><meta name="description" content="A Blog Powered By Hexo"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="Perpetual motion"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link active">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li></ul></header><main class="container"><ul class="home post-list"><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/04/05/后端数据结构和前端不相符/" class="post-title-link">后端数据结构和前端不相符</a></h2><div class="post-info">Apr 5, 2017</div><div class="post-content"><p>今天一个项目后端接口的数据结构和前端展示数据结构差距很大。后端给出一个类似于下面数据结构：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  list: [&#123;  </div><div class="line">    index: 1</div><div class="line">    content: [&#123;</div><div class="line">        id: 1,</div><div class="line">        name: &quot;android&quot;</div><div class="line">    &#125;,&#123;</div><div class="line">        id: 3,</div><div class="line">        name: &quot;ios&quot;</div><div class="line">    &#125;,&#123;</div><div class="line">        id: 2,</div><div class="line">        name: &quot;wp&quot;</div><div class="line">    &#125;]</div><div class="line">  &#125;]  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p></div><a href="/2017/04/05/后端数据结构和前端不相符/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/03/10/babel运行流程/" class="post-title-link">Babel运行流程</a></h2><div class="post-info">Mar 10, 2017</div><div class="post-content"><p>本文主要说一些<code>Babel</code>内部运行原理，不具体说一些基础知识。想了解<code>Babel</code>基础知识请看这两篇优秀的文章：<a href="https://github.com/thejameskyle/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md">Babel 用户手册</a>和<a href="https://github.com/thejameskyle/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#toc-avoid-traversing-the-ast-as-much-as-possible">Babel 插件手册</a></p>
<h2 id="运行流程图"><a href="#运行流程图" class="headerlink" title="运行流程图"></a>运行流程图</h2><p><code>Babel</code>执行分为三个步骤：编译、处理、生成。<br><img src="Babel运行机制/bable.png" alt="流程图"></p></div><a href="/2017/03/10/babel运行流程/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/03/05/babel基本知识学习/" class="post-title-link">babel基本知识学习</a></h2><div class="post-info">Mar 5, 2017</div><div class="post-content"><p>Babel可以让我们现在就使用最新版本Javascript。它会将最新版本Javascript编译成目前浏览器可以识别的版本。那它是怎么工作呢？</p>
<h2 id="名词介绍"><a href="#名词介绍" class="headerlink" title="名词介绍"></a>名词介绍</h2><p>介绍Babel工作原理之前需要先了解代码解析中一些名词的含义。</p>
<h4 id="词法分析"><a href="#词法分析" class="headerlink" title="词法分析"></a>词法分析</h4><p>将字符序列转换为标记（token）序列的过程。这是代码解析的第一步，举个例子:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var n = 1;</div></pre></td></tr></table></figure></p>
<p>上面代码经过词法解析生成下面序列<br></div><a href="/2017/03/05/babel基本知识学习/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/02/26/react 事件系统/" class="post-title-link"></a></h2><div class="post-info">Feb 26, 2017</div><div class="post-content"><p>react集成了JavaScript事件，并加入一些自己东西变成合成事件。</p>
<h2 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h2><p>react事件绑定方式js绑定差不多有两种方式：</p>
<ul>
<li>通过标签属性;</li>
<li>通过<code>addEventLister</code>函数</li>
</ul>
<h3 id="通过标签属性"><a href="#通过标签属性" class="headerlink" title="通过标签属性"></a>通过标签属性</h3><p>比如给<code>&lt;p&gt;&#39;标签绑定</code>onClick`事件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;p onClick=&#123;(e)=&gt;&#123;</div><div class="line">  console.log(e)</div><div class="line">&#125;&gt;</div></pre></td></tr></table></figure></p></div><a href="/2017/02/26/react 事件系统/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/02/19/webpack md5入口html引入静态资源/" class="post-title-link">webpack 防止入口HTML中静态资源缓存</a></h2><div class="post-info">Feb 19, 2017</div><div class="post-content"><p>webpack对bundle文件有很好的<code>md5</code>支持，可以通过<code>hash</code>和<code>chunkhash</code>来实现，但对于入口<code>main.html</code>中的静态资源md5没有默认的支持，需要配置相关插件来实现。</p>
<p>关于入口HTML中静态资源有三个问题需要解决</p>
<ul>
<li>怎么让入口HTML动态引入<code>md5</code>的bundle文件；</li>
<li>入口HTML文件中静态资源怎么防止缓存，例如：link引入reset.css情况</li>
<li>如果入口HTML文件是前端模板，怎么支持？</li>
</ul></div><a href="/2017/02/19/webpack md5入口html引入静态资源/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/02/19/webpack2主要新功能/" class="post-title-link">webpack2 主要新功能介绍</a></h2><div class="post-info">Feb 19, 2017</div><div class="post-content"><p>最近webpack2正式发布，推出一些很不错的新功能。下面具体介绍一下</p>
<h3 id="默认支持ES6"><a href="#默认支持ES6" class="headerlink" title="默认支持ES6"></a>默认支持ES6</h3><p>webpack2增加对ES6支持。当使用<code>import</code>和<code>export</code>的写法时，不再需要借助babel进行编译，而且还可以使用另一个新功能<code>tree-shaking</code>。</p>
<p>如果正在使用babel将<code>import</code>和<code>export</code>转化成<code>require</code>格式，可以通过修改<code>.babelrc</code>的<code>preset</code>选项进行关闭。设置如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//.babelrc文件</span></div><div class="line">&#123;</div><div class="line">    <span class="string">"presets"</span>: [</div><div class="line">        <span class="string">"env"</span>, </div><div class="line">        &#123;<span class="string">"modules"</span>: <span class="literal">false</span>&#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p></div><a href="/2017/02/19/webpack2主要新功能/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/02/19/webpack 根据库文件是否更新进行md5/" class="post-title-link">webpack 根据库文件是否更新进行md5</a></h2><div class="post-info">Feb 19, 2017</div><div class="post-content"><p>webpack对<code>bundle</code>文件的<code>md5</code>已经做的很好，但是有种场景的文件md5需要特别注意：对库文件md5。需要满足下面的条件：</p>
<ul>
<li>库文件很大需要分开打包，不然影响业务文件打包速度；</li>
<li>库文件是通过<code>&lt;script&gt;</code>标签引入的；</li>
</ul>
<p>如下面代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./lib.js"</span> <span class="attr">type</span>=<span class="string">"text/javavscript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p></div><a href="/2017/02/19/webpack 根据库文件是否更新进行md5/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/02/11/webpack2新功能之tree sharking/" class="post-title-link">webpack2新功能之tree-shaking</a></h2><div class="post-info">Feb 11, 2017</div><div class="post-content"><h2 id="webpack2新功能之tree-shaking"><a href="#webpack2新功能之tree-shaking" class="headerlink" title="webpack2新功能之tree-shaking"></a>webpack2新功能之tree-shaking</h2><p>最近webpack2正式发布，这个大版本历时一年多时间开发终于发布稳定版本。<br>tree-shaking是webpack2一大亮点，从字面上能猜出大概的意思：摇一摇树很多叶子就会掉下来，<strong>它能删除没有被<code>import</code>引用过的代码。</strong> 不过这个概念却是rollup.js首先提出来。<br>我们先看看它的效果怎么样？</p>
<h3 id="测试tree-shaking效果"><a href="#测试tree-shaking效果" class="headerlink" title="测试tree-shaking效果"></a>测试tree-shaking效果</h3><p>使用大家最常用<code>react-router</code>模块测试一下。创建main.js文件，引入react-router几个对象。代码如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Router, Route, Link, browserHistory &#125; <span class="keyword">from</span> <span class="string">'react-router'</span>;</div></pre></td></tr></table></figure></p>
<p>我们需要使用babel来编译react。react-router默认是ES5版本，需要通过<code>resole.mainFileds</code>属性来调用ES6版本。webpack.config.js配置文件如下：<br></div><a href="/2017/02/11/webpack2新功能之tree sharking/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/01/13/Debug工具项目复盘/" class="post-title-link">手机开发切图相关总结</a></h2><div class="post-info">Jan 13, 2017</div><div class="post-content"><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>算路是由很多Link组成,点击每个Link并显示它的属性值。还有一些右击菜单打点、根据条件过滤Link、地图和属性值联动等等功能；</p>
<h2 id="项目实施"><a href="#项目实施" class="headerlink" title="项目实施"></a>项目实施</h2><ul>
<li>1月4日交接项目；</li>
<li>1月5日-1月6日 左侧菜单、画路</li>
<li>1月7日-1月8日 高亮过滤功能、起终点列表展示</li>
<li>1月9日 搜索PathID</li>
<li>1月10日 </li>
<li>1月11日 修改大数据量页面卡顿问题</li>
<li>1月13日 修改途经点问题</div><a href="/2017/01/13/Debug工具项目复盘/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/12/25/webpack打包速度优化之DllPlugin/" class="post-title-link">webpack打包速度优化之DllPlugin</a></h2><div class="post-info">Dec 25, 2016</div><div class="post-content"><h2 id="遇到问题"><a href="#遇到问题" class="headerlink" title="遇到问题"></a>遇到问题</h2><p>　随着web应用化和复杂化，前端开发越来越多依赖第三方文件，比如React、Bootstrap、Moment等。前端加载资源文件数量也极具上升。举个例子，如果你只想用React在页面写个”Hello World”，也要引用大约160个文件(React加上ReactDOM)。一般应用还用一些类似Bootstrap等 UI框架，这样的话相关依赖资源很快都能到达一百多个。例如我目前开发一个后台系统：前端框架用是React，UI库是公司的Ant，光两个依赖的资源数已经达到160多个了。</p></div><a href="/2016/12/25/webpack打包速度优化之DllPlugin/" class="read-more">...more</a></article></li></ul></main><footer><div class="paginator"><a href="/page/2/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://yoursite.com"></a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>